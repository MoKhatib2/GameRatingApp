<div class="container">
    <div class="row">
        <div class="col-xs-2">
            <img [src]="game.coverPath" alt="" style="width: 202px; height: 249px;">
        </div>
        <div class="col-xs-6 game-details" style="margin-left: 30px;">
            <p>Name: {{ game.name }}</p>
            <p>Release Date: {{ game.releaseDate | date: 'dd/MM/yyyy'}}</p>
            <p>Description: {{ game.description }}</p>
            <p>Overall Rating: {{ game.rating  }}/5 <fa-icon [icon]="faStar" style="color: #f7bd0f;"></fa-icon> </p> 
        </div>
    </div>
    <hr>
    <div style="margin-left: 20px;" class="row">
        <div class="row">
            <h2>Rate this game</h2>
        </div>
        <div class="row">
            <form [formGroup]="ratingForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label for="">Write what you think about this game</label>
                    <input type="text" class="form-control" formControlName="review" style="height: 100px;width: 400px;">
                </div>
                <div class="form-group">
                    <fieldset>
                        <label for="">Did you enjoy this game?</label>
                            <div class="radio-group">
                                <input type="radio" id="yes" [value]="true" formControlName="enjoyed" name="enjoyed">
                                <label for="yes"> yes <fa-icon [icon]="faThumbsUp"></fa-icon></label>
                                <input type="radio" id="no" [value]="false" formControlName="enjoyed" name="enjoyed">
                                <label for="no"> no <fa-icon [icon]="faThumbsDown" style="margin-top: 2px;"></fa-icon></label>
                            </div>
                    </fieldset>
                </div>
                <div class="form-group">
                    <label for="">Rate this game</label>
                    <div class="rating" appRatingStars>
                        <div class="star-container" id="star1-div">
                            <input type="radio" name="rating" id="star1" [value]="1" formControlName="rating">
                            <label for="star1">
                                <fa-icon [icon]="faStar" class="unhighlighted"></fa-icon>
                                <fa-icon [icon]="faStar" class="highlighted"></fa-icon>
                            </label>
                        </div>
                        <div class="star-container" id="star2-div">
                            <input type="radio" name="rating" id="star2" [value]="2" formControlName="rating">
                            <label for="star2">
                                <fa-icon [icon]="faStar" class="unhighlighted"></fa-icon>
                                <fa-icon [icon]="faStar" class="highlighted"></fa-icon>
                            </label>
                        </div>
                        <div class="star-container" id="star3-div">
                            <input type="radio" name="rating" id="star3" [value]="3" formControlName="rating">
                            <label for="star3">
                                <fa-icon [icon]="faStar" class="unhighlighted"></fa-icon>
                                <fa-icon [icon]="faStar" class="highlighted"></fa-icon>
                            </label>
                        </div>
                        <div class="star-container" id="star4-div">
                            <input type="radio" name="rating" id="star4" [value]="4" formControlName="rating">
                            <label for="star4">
                                <fa-icon [icon]="faStar" class="unhighlighted"></fa-icon>
                                <fa-icon [icon]="faStar" class="highlighted"></fa-icon>
                            </label>
                        </div>
                        <div class="star-container" id="star5-div">   
                            <input type="radio" name="rating" id="star5" [value]="5" formControlName="rating">
                            <label for="star5">
                                <fa-icon [icon]="faStar" class="unhighlighted"></fa-icon>
                                <fa-icon [icon]="faStar" class="highlighted"></fa-icon>
                            </label>
                        </div>
                    </div>
                    <p style="color: red; font-size: 15px; font-weight: 200;" *ngIf="ratingErrorMessage">please give a rating before submitting</p>
                </div>
                <div class="btn-group">
                    <button class="btn-success" style="margin-right: 20px;">{{ gameReviewedBefore? 'Update Review' : 'Add Review' }}</button> 
                    <button class="btn-danger" type="button" *ngIf="gameReviewedBefore">Delete Review</button>
                </div>
            </form>
        </div>
    </div>
    <hr>
    <div class="row">
        <div style="margin-left: 15px;" class="row">
            <h2>Reviews</h2>
        </div>
        <div class="review_item" *ngFor="let currGameReview of currGameReviews">
            <h3>
                <img class="profile-image" [src]="currGameReview.user.profileImagePath && currGameReview.user.profileImagePath != '' ? currGameReview.user.profileImagePath : defaultProfileImagePath " alt="">
                {{ currGameReview.user.username }} {{ currGameReview.review.enjoyedGame ? 'enjoyed this game': 'did not enjoy this game'}}
                <fa-icon [icon]="faThumbsUp" style="color: #1f9cff;" *ngIf="currGameReview.review.enjoyedGame"></fa-icon>
                <fa-icon [icon]="faThumbsDown"  style="color: #f02916;" *ngIf="!currGameReview.review.enjoyedGame"></fa-icon>
            </h3>
            <p>{{ currGameReview.review.thoughtsOnGame }}</p>
            <p> 
                <fa-icon [icon]="faStar" style="color: #f7bd0f;"></fa-icon> 
                {{ currGameReview.review.rating + '/5'}}
            </p>
        </div>
    </div>
</div>